#!/usr/bin/env bash

# Usage: php-current-version ['pretty']
# Returns
#   * php5x (brew compatible argument form) if the script argument is omitted
#   * 5.X (pretty form) if any string is passed as argument

current_php_version() {
    local PRETTY=${1-''}
    local VERSION=$(php -r 'echo phpversion();' | cut -d . -f 1-2)

    [[ -z $PRETTY ]] && echo "php$(echo $VERSION | tr -d .)" && return

    echo $VERSION
}

current_php_version $1
